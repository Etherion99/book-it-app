<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>Admin</title>
  <!-- Favicon-->
  <link rel="icon" type="image/x-icon" href="assets/img/book.png" />
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
    type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/sign-in/">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body id="page-top" style="background-color: rgba(76, 135, 243, 0.87);">

  <!-- Navigation-->
  <app-header clase="profile"></app-header>>

  <!-- Masthead-->

  <section class="page-section bg-primary text-white mb-0" id="about">
    <div class="container">
      <!-- About Section Heading-->
      <h2 class="page-section-heading text-center text-uppercase text-white">Estás Registrado!</h2>
      <!-- Icon Divider-->
      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>
        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
        <div class="divider-custom-line"></div>
      </div>
      <!-- About Section Content-->
      <div class="row">
        <div class="col-lg-4 ms-auto">
          <p class="lead">Aquí puedes Actualizar los datos de tu Hotel de una manera sencilla. </p>
        </div>
        <div class="col-lg-4 me-auto">
          <p class="lead">También puedes añadir la nueva sucursal de tu hotel, clickea en el botón de Crear Sucursal y
            listo, ingresa los datos de tu nueva sucursal y nosotros haremos el resto. Bienvenido.</p>
        </div>
      </div>
      <!-- About Section Button-->
    </div>
  </section>

  <div id="diper" class="py-5 row mx-0 container-fluid d-flex align-items-start justify-content-center rounded-1"
    style="background-color: whitesmoke;">
    <div class="col-4">
      <div class="card p-5">
        <div class="m-2">
          <h3 class="fs-3 text-center fw-bold">Mis datos:</h3>
        </div>
        <div class="text-center" [formGroup]="updateF">
          <div class="col-12 row mx-0 d-flex justify-content-center">
            <div class="form-group row input-group d-flex">
              <div class="row mx-0">
                <label for="nombreHotel" class=" col form-label fw-bold" style="width: 30%;">Nombre</label>
                <input type="text" class="col form-control order-2" style="width: 60%;" id="nombreHotel"
                  formControlName="name">
              </div>
            </div>
            <div class="form-group row input-group d-flex">
              <div class="row mx-0">
                <label for="nombreHotel" class="col form-label fw-bold" style="width: 30%;">Apellido</label>
                <input class="col form-control order-2" style="width: 60%;" id="Apellido" formControlName="lastname">
              </div>
            </div>

            <div class="form-group row">
              <div class="row mx-0">
                <label for="Correo" class="col form-label fw-bold" style="width: 30%;">Correo</label>
                <input class="col form-control order-2" style="width: 60%;" id="Correo" formControlName="email">
              </div>
            </div>

            <div class="form-group row input-group d-flex">
              <div class="row mx-0">
                <label for="username" class="col form-label fw-bold" style="width: 30%;">Username</label>
                <input class="col form-control order-2" style="width: 60%;" id="Username" formControlName="username">
              </div>
            </div>

            <div class="form-group row mx-0 nput-group d-flex">
              <div class="row mx-0">
                <label for="Contraseña" class="col form-label fw-bold" style="width: 30%;">Contraseña</label>
                <input type="password" class="col form-control order-2" style="width: 60%;" id="Contraseña"
                  formControlName="password">
              </div>
            </div>

            <div class="row mx-0 d-flex justify-content-center">
              <button class="btn btn-primary mb-3 mx-0" style="width: 40%;" (click)="update()">Actualizar Datos</button>
            </div>

            <div class="row mx-0 justify-content-center px-0">
                <div style="width: 60%;">
                <button pButton type="button" class="p-button-success" (click)="showModal1()" icon="pi pi-plus"
                    label="Registrar Sucursal"></button>
                </div>
            </div>            
          </div>
        </div>
      </div>
    </div>
    <div class="col-8">
      <div class="justify-content-center card p-4">
        <div>
          <h3 class="fs-3 text-center">Sucursales:</h3>
        </div>
        <div>
          <table class="table table-striped table-dark">
            <thead>
              <tr>
                <th scope="col-sm-1">#</th>
                <th scope="col-sm-2">Sucursal</th>
                <th scope="col-sm-1">Ciudad</th>
                <th scope="col">Dirección</th>
                <th scope="col">Telefono</th>
                <th scope="col">Reg. Habitación</th>
                <th scope="col">Eliminar Sucursal</th>
              </tr>
            </thead>
            <tbody>
                <tr *ngFor="let suc of sucs">
                    <th>{{suc.id}}</th>
                    <th>{{suc.name}}</th>
                    <th>{{suc.city.name}}</th>
                    <th>{{suc.address}}</th>
                    <th>{{suc.phone}}</th>
                    <td><button class="btn btn-success mb-10" (click)="showModal2(suc)">Registrar</button></td>
                    <td><button class="btn btn-danger mb-10" (click)="deleteSuc(suc)">Eliminar</button></td> 
                  </tr>
            </tbody>
          </table>
        </div>
        <div>
            <h3 class="fs-3 text-center mt-3">Habitaciones:</h3>
          </div>
          <div>
            <table class="table table-striped table-dark">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Hotel</th>
                  <th scope="col">Sucursal</th>
                  <th scope="col">Tipo</th>
                  <th scope="col">Número</th>
                  <th scope="col">Eliminar Habitación</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let room of rooms">
                  <th>{{room.id}}</th>
                  <td>{{room.branch.hotel.name}}</td>
                  <td>{{room.branch.name}}</td>
                  <td>{{room.roomtype.name}}</td>
                  <td>{{room.room_number}}</td>
                  <td><button class="btn btn-danger mb-10" (click)="deleteRoom(room)">Eliminar</button></td> 
                </tr>
              </tbody>
            </table>
          </div>
      </div>
    </div>
  </div>


  <p-dialog [modal]="true" [(visible)]="modal1" class="row mx-0 container-fluid d-flex align-items-center justify-content-center rounded-1"
    style="background-color: whitesmoke;">
    <div class="col-12 row d-flex justify-content-center" id="form" [formGroup]="sucF">
      <div class="row">
        <h1 class="fs-2 text-center fw-bold">Crear Sucursal</h1>
      </div>
      <div class="row my-3">
        <div class="col">
            <label for="name" class="form-label fw-bold">Nombre</label>
            <div class="input-group d-flex">
                <input type="text" class="form-control order-2" name="name" id="name" formControlName="name">
                <span class="input-group-text order-1"><i class="fas fa-id-card"></i></span>
                <span class="focus-border"><i></i></span>
                <div class="invalid-feedback order-3"></div>
            </div>
        </div>
        <div class="col">
            <label for="name" class="form-label fw-bold">Dirección</label>
            <div class="input-group d-flex">
                <input type="text" class="form-control order-2" name="name" id="name" formControlName="address">
                <span class="input-group-text order-1"><i class="fas fa-id-card"></i></span>
                <span class="focus-border"><i></i></span>
                <div class="invalid-feedback order-3"></div>
            </div>
        </div>
        <div class="col">
            <label for="name" class="form-label fw-bold">Teléfono</label>
            <div class="input-group d-flex">
                <input type="text" class="form-control order-2" name="name" id="name" formControlName="phone">
                <span class="input-group-text order-1"><i class="fas fa-id-card"></i></span>
                <span class="focus-border"><i></i></span>
                <div class="invalid-feedback order-3"></div>
            </div>
        </div>
      </div>
      <div class="row my-3">
          <div class="col">
            <label for="lastname" class="form-label fw-bold">Tipo</label>
            <div class="input-group d-flex">
                <select class="form-control" formControlName="branchtype_id">
                    <option value="1">Tipo 1</option>
                    <option value="2">Tipo 2</option>
                    <option value="3">Tipo 3</option>
                </select>
                <span class="focus-border"><i></i></span>
                <div class="invalid-feedback order-3"></div>
            </div>
          </div>
        <div class="col">
            <label for="name" class="form-label fw-bold">Departamento</label>
            <select class="form-select" (change)="loadCities()" formControlName="department">
                <option value="">Departamento</option>
                <option *ngFor="let dpt of departments" [value]="dpt.id">{{dpt.name}}</option>
              </select>
        </div>
        <div class="col">
            <label for="name" class="form-label fw-bold">Ciudad</label>
            <select class="form-select" formControlName="city_id">
                <option value="">Ciudad</option>
                <option *ngFor="let city of cities" [value]="city.id">{{city.name}}</option>
            </select>
        </div>
      </div>
      <div class="row mb-5 mt-3">
        <div class="col">
            <label for="lastname" class="form-label fw-bold">Descripción</label>
            <div class="input-group d-flex">
              <textarea class="form-control" formControlName="description"></textarea>
              <div class="invalid-feedback order-3"></div>
            </div>
          </div>
      </div>
      <div class="row mx-0 mb-2 justify-content-center">
        <button class="btn btn-primary mb-10" style="width: 40%;" (click)="regSuc()">Crear Sucursal</button>
      </div>
    </div>
    </p-dialog>

    <p-dialog [modal]="true" [(visible)]="modal2" class="row mx-0 container-fluid d-flex align-items-center justify-content-center rounded-1"
    style="background-color: whitesmoke;">
    <div class="col-12 row d-flex justify-content-center my-5" id="form" [formGroup]="roomF">
      <div class="row mx-0">
        <h1 class="fs-2 text-center fw-bold">Crear Habitación</h1>
      </div>
      <div class="row mb-3 mt-5">
        <div class="col">
          <label for="name" class="form-label fw-bold">Número</label>
          <div class="input-group d-flex">
            <input type="number" class="form-control order-2" formControlName="room_number">
            <span class="input-group-text order-1"><i class="fas fa-building"></i></span>
            <span class="focus-border"><i></i></span>
            <div class="invalid-feedback order-3"></div>
          </div>
        </div>
        <div class="col">
          <label for="lastname" class="form-label fw-bold">Tipo</label>
          <div class="input-group d-flex">
            <select class="form-control" formControlName="roomtype_id">
                <option value="1">Habitacion Individual</option>
                <option value="2">Habitacion doble</option>
                <option value="3">Habitacion triple</option>
                <option value="4">Suite mini</option>
                <option value="5">Suite presidencial</option>
            </select>
            <span class="focus-border"><i></i></span>
            <div class="invalid-feedback order-3"></div>
          </div>
        </div>    
      </div>
      <div class="row mb-5">
        <div class="col">
            <label for="lastname" class="form-label fw-bold">Descripción</label>
            <div class="input-group d-flex">
              <textarea class="form-control" formControlName="description"></textarea>
              <div class="invalid-feedback order-3"></div>
            </div>
          </div>
      </div>

      <div class="row mb-2 justify-content-center">
        <button class="btn btn-primary mb-10" style="width: 40%;" (click)="regRoom()">Crear Habitación</button>
      </div>
    </div>
    </p-dialog>

  <section></section>
  <footer class="footer text-center">
    <div class="container">
      <div class="row">
        <!-- Footer Location-->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Soporte técnico</h4>
          <p class="lead mb-0">
            Avenida Libertadores
            <br />
            Steven Gerrard - 3157456985
          </p>
        </div>
        <!-- Footer Social Icons-->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Nuestras redes sociales</h4>
          <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
        </div>
        <!-- Footer About Text-->

      </div>
    </div>
  </footer>
  <!-- Copyright Section-->
  <div class="copyright py-4 text-center text-white">
    <div class="container"><small>Copyright &copy; BOOK IT APP 2021</small></div>
  </div>

  <!-- Bootstrap core JS-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Core theme JS-->
  <script src="js/scripts.js"></script>
  <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
  <!-- * *                               SB Forms JS                               * *-->
  <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
  <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
  <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>

</html>
